#summary Common Gateway Interface (CGI) for the wrapper
#labels Featured,Phase-Implementation

= Serve charts using CGI  =

The following is an example of a Python CGI script 
Run a CGI application to serve (proxy) the chart image. First create a GChart

{{{
import sys
from GChartWrapper import Meter
G = Meter(70)
G.label('Hello')
G.size(225,125)
}}}

Now we have the chart, write it in the traditional PNG format

{{{
# header
sys.stdout.write('Content-type: image/png'+'\r\n'*2)

# content
G.write(sys.stdout)
}}}

Or, using the PilExtension, write the chart in RGB jpeg format

{{{
# header
sys.stdout.write('Content-type: image/png'+'\r\n'*2)

# content
sys.stdout.write(G.image().tostring('jpeg','RGB'))
}}}

Other formats are possible